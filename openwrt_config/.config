CONFIG_TARGET_rockchip=y
CONFIG_TARGET_rockchip_rk3128=y
CONFIG_TARGET_rockchip_rk3128_DEVICE_generic=y
# 架构核心适配：RK3128 ARM32 armhf
CONFIG_ARCH_32BIT=y
CONFIG_TARGET_BOARD="rockchip"
CONFIG_TARGET_SUBTARGET="rk3128"
CONFIG_TARGET_PROFILE="DEVICE_generic"
CONFIG_TARGET_ARCH_PACKAGES="arm_cortex-a7_neon-vfpv4"
# 解决glib2/pcre2依赖问题【核心修复】
CONFIG_PACKAGE_pcre2=y
CONFIG_PACKAGE_pcre2-host=y
CONFIG_PACKAGE_glib2=y
CONFIG_DEPENDS_glib2_pcre2=y
# 必开：固件镜像打包（解决无img文件问题）【核心开关】
CONFIG_TARGET_IMAGES_GZIP=y
CONFIG_TARGET_IMAGES_SQUASHFS=y
CONFIG_TARGET_IMAGES_EXT4=y
CONFIG_TARGET_IMAGES_RAW=y
CONFIG_TARGET_ROOTFS_EXT4=y
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_ROOTFS_SIZE=1024
CONFIG_TARGET_SQUASHFS_BLOCK_SIZE=256
# RK3128 硬件驱动全开启
CONFIG_PACKAGE_kmod-usb-ohci=y
CONFIG_PACKAGE_kmod-usb-uhci=y
CONFIG_PACKAGE_kmod-usb2=y
CONFIG_PACKAGE_kmod-usb3=y
CONFIG_PACKAGE_kmod-nls-utf8=y
CONFIG_PACKAGE_kmod-rockchip-drm=y
CONFIG_PACKAGE_kmod-sdhci-rockchip=y
# 基础工具+网络组件
CONFIG_PACKAGE_wget=y
CONFIG_PACKAGE_openssh-sftp-server=y
CONFIG_PACKAGE_iputils-ping=y
CONFIG_PACKAGE_arping=y
# 编译优化
CONFIG_OPTIMIZE_FOR_PERFORMANCE=y
CONFIG_STRIP_KERNEL_EXPORTS=y
CONFIG_USE_MKLIBS=y
# 关闭无用项，避免编译冲突
CONFIG_PACKAGE_lib32gcc1=n
CONFIG_PACKAGE_aarch64-elf-gcc=n
CONFIG_TARGET_ROOTFS_CPIO=n
# 强制指定RK3128设备树文件路径
CONFIG_TARGET_DEVICE_ROCKCHIP_RK3128_DEVICE_GENERIC_DTS="rk3128-evb.dts"
